# 1.

![](../pics/ch2-3/pic1.png)

[面试题18. 删除链表的节点](https://leetcode-cn.com/problems/shan-chu-lian-biao-de-jie-dian-lcof/)

**递归写法代码**：

``` c
/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     struct ListNode *next;
 * };
 */
typedef struct LintNode *LinkList;

struct ListNode* deleteNode(struct ListNode* head, int key){
    if(head==NULL){
        return NULL;
    }
    LinkList p=head->next;
    if(head->val==key){
        free(head);
        return  deleteNode(p,key);
    }else{
        head->next=deleteNode(p,key);
        return head;
    }
}
```

**非递归写法**：

``` c
/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     struct ListNode *next;
 * };
 */
typedef struct ListNode *LinkList;

struct ListNode* deleteNode(LinkList head, int key){
   // 非递归写法
    LinkList tmp;
   //1.特例处理 删除的是第一个节点
   while(head->val==key&&head!=NULL){
       tmp=head;
       head=head->next;
       free(tmp);
   }
   //2.删除
   LinkList p=head;
   while(p!=NULL&&p->next!=NULL){
       if(p->next->val==key){
           tmp=p->next;
           p->next=p->next->next;
           free(tmp);
       }
       p=p->next;
   }
    return head;
}
```



**完整代码**：

``` c
#include<stdio.h>
#include<stdlib.h>
//单链表
typedef struct LNode{
    int data;
    struct LNode *next;
}LNode,*LinkList;

//数组转链表
LinkList NewNode(int num){
    LinkList ret=(LinkList)malloc(sizeof(LNode));
    ret->data=num;
    ret->next=NULL;
    return ret;
}
// 输入数组
// 返回链表(不带头节点)
LinkList nums2List(int nums[],int lenght){
    LNode dummy;
    LinkList p=&dummy;
    for(int i=0;i<lenght;i++){
        p->next=NewNode(nums[i]);
        p=p->next;
    }
    return dummy.next;
}

void travel(LinkList head){
    LinkList p=head;
    while(p!=NULL){
        printf("%d ",p->data);
        p=p->next;
    }
    printf("\n");
}

LinkList delete_key(LinkList head,int key){
    if(head==NULL){
        return NULL;
    }
    LinkList p=head->next;
    if(head->data==key){
        free(head);
        return  delete_key(p,key);
    }else{
        head->next=delete_key(p,key);
        return head;
    }
}
int  main(){
    int nums[]={1,2,3,5,7,8};
    int length=6;
    LinkList ret=nums2List(nums,length);
    ret=delete_key(ret,8);
    travel(ret);
}
```

